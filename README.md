# ブックマークマネージャー

ブラウザで開いている大量のタブを整理・管理するための、シンプルで使いやすいブックマーク管理アプリケーションです。

## 特徴

### 🔖 ブックマーク管理
- URLをドラッグ&ドロップまたは入力で簡単に追加
- 各ブックマークに3行までのメモを添付可能（改行を保持）
- ドメイン名とタイトルを自動抽出して表示

### 📂 コレクション機能
- タブベースでブックマークを複数のリストに整理
- 「すべて」タブで全ブックマークを一覧表示
- カスタムコレクションを自由に作成・編集・削除
- 初期表示タブを設定可能（ログイン時に自動選択）

### 🎨 ファビコンのカスタマイズ
- ドラッグ&ドロップで画像URLまたはファイルをアップロード
- URLからの自動ダウンロード（サーバー側でbase64変換）
- すべての画像をシステム内にセルフホスト（外部依存なし）

### ⚙️ 設定画面
- コレクションの一元管理（追加・編集・削除）
- 初期タブ設定でログイン時の表示を制御
- すっきりしたインターフェースで簡単操作

### 🔐 ユーザー認証
- セッションベースの認証システム
- ユーザーごとに独立したブックマーク管理
- 安全なパスワード保存

## 技術スタック

### フロントエンド
- **React 18** - UIフレームワーク
- **TypeScript** - 型安全な開発
- **Tailwind CSS** - ユーティリティファーストなスタイリング
- **shadcn/ui** - 高品質なUIコンポーネント
- **TanStack Query** - サーバー状態管理
- **Wouter** - 軽量なルーティング
- **Vite** - 高速なビルドツール

### バックエンド
- **Node.js + Express** - サーバーフレームワーク
- **PostgreSQL (Neon)** - データベース
- **Drizzle ORM** - 型安全なORMライブラリ
- **express-session** - セッション管理
- **Zod** - スキーマバリデーション

## セットアップ

### 前提条件
- Node.js 18以上
- PostgreSQLデータベース（または Neon のアカウント）

### インストール

1. リポジトリをクローン
```bash
git clone <repository-url>
cd <repository-name>
```

2. 依存関係をインストール
```bash
npm install
```

3. 環境変数を設定

`.env`ファイルを作成し、以下の変数を設定：
```env
DATABASE_URL=postgresql://user:password@host:port/database
SESSION_SECRET=your-random-secret-key
```

4. データベースをセットアップ
```bash
npm run db:push
```

5. 開発サーバーを起動
```bash
npm run dev
```

アプリケーションは `http://localhost:5000` で起動します。

## 使い方

### 初回セットアップ
1. アプリケーションにアクセス
2. 新規ユーザーとして登録
3. ログイン

### ブックマークの追加
1. URL入力欄にURLを入力またはドラッグ&ドロップ
2. 「追加」ボタンをクリック
3. 必要に応じて編集ボタンからメモやファビコンを追加

### コレクションの管理
1. 右上の「設定」ボタンをクリック
2. 「新しいコレクション」欄に名前を入力して追加
3. 既存のコレクションを編集または削除
4. 初期タブを選択して保存

### ファビコンの設定
1. ブックマークの編集モードに入る
2. ファビコン入力欄に画像URLを入力、または画像ファイルをドラッグ&ドロップ
3. 保存ボタンをクリック
4. 画像は自動的にシステム内に保存されます

## データ構造

### Users（ユーザー）
- ユーザー名とパスワードで認証
- 各ユーザーは独立したブックマークとコレクションを所有

### Collections（コレクション）
- ユーザーが作成したブックマークのグループ
- 名前でカスタマイズ可能
- 削除時、所属するブックマークは「すべて」タブに移動

### Bookmarks（ブックマーク）
- URL、タイトル、ドメイン、メモを保存
- オプションでコレクションに所属
- ファビコンはbase64形式で内部保存

## セキュリティ

- セッションベースの認証
- HTTPオンリークッキーでXSS攻撃を防止
- ユーザースコープのデータアクセス制御
- 画像はすべて内部保存（外部依存なし）

## 開発

### スクリプト
- `npm run dev` - 開発サーバー起動
- `npm run build` - プロダクションビルド
- `npm run db:push` - データベーススキーマ同期
- `npm run db:studio` - Drizzle Studio起動

### プロジェクト構成
```
├── client/              # フロントエンドコード
│   ├── src/
│   │   ├── components/  # Reactコンポーネント
│   │   ├── pages/       # ページコンポーネント
│   │   └── lib/         # ユーティリティ
├── server/              # バックエンドコード
│   ├── routes.ts        # APIルート
│   ├── storage.ts       # データアクセス層
│   └── utils/           # サーバーユーティリティ
├── shared/              # 共有コード
│   └── schema.ts        # データベーススキーマ
└── db/                  # データベース設定
```

## ライセンス

MIT License

## 貢献

プルリクエストを歓迎します。大きな変更の場合は、まずissueを開いて変更内容を議論してください。
